# 영화 앱 프로젝트

https://shongs27.github.io/GripMovie/

## 폴더구조

```
src
 │
 ├── assets
 │      └── // svg파일등이 모여있는 폴더
 ├── styles
 │      └── // 스타일 폴더 (ex color.scss)
 ├── commons
 │      └── // 공통으로 쓰게 된 컴포넌트가 있는 폴더
 ├── components
 │      └── // 페이지에 사용된 컴포넌트들을 모아놓은 폴더
 ├── pages
 │      └── // 라우터에 따라 분리된 페이지 컴포넌트가 있는 폴더
 ├── utils
 │      └── // 컴포넌트에서 사용하는 유용한 기능을 모아놓은 폴더
 │
 ├── App.js   // 앱 시작 파일
 ├── slice.js // redux의 action, reducer가 있는 파일
 └── store    // 리덕스 저장소
```

## 설계

리액트의 컴포넌트는 UI를 그려내는데 포인트를 두고, 비즈니스 로직은 가능한 리덕스나 상위의 컴포넌트에서 총괄적으로 처리하려고 했습니다.  
<br/>
예를 들어 SearchPage 컴포넌트에서 하위의 SearchBar, Category 컴포넌트의 로직을 처리해서 props로 넘겼습니다.
또한, api를 통해 데이터를 받아와서 가공하는 것은 redux의 미들웨어를 통해 처리했습니다.  
<br/>
무한 스크롤 로직(intersectionObserve API)을 MovieList 컴포넌트에 작성하면서 MovieList, MovieItem 컴포넌트로 나누어 작성하였지만, 유사한 일을 하는 컴포넌트 특성으로 후에 즐겨찾기 페이지에서 드래그앤드랍을 구현하기 까다롭고 가독성이 떨어지는 문제가 발생했습니다. 해결을 위해 라이브러리가 아닌 custom hook을 통해 직접 원리를 파악하며 만들었습니다.

## 포인트

1. 컴포넌트 분리

검색페이지와 즐겨찾기페이지는 비슷하지만 엄연히 다른 로직을 가지므로 작은 컴포넌트 단위로 쪼개어 함께 처리할 수 있는 문제들을 구분지어 묶어서 해결해 나가야 했는데, 급한대로 구현을 하니 무비 리스트와 아이템의 결합도가 높아졌고, 후에 즐겨찾기페이지를 구현하는데 어려움을 가지게 되었습니다.
<br/>
최우선적으로 컴포넌트의 설계가 정밀해야 한다는 점을 느끼고 **작은 컴포넌트 단위에서 공통부분**을 찾아가면서 설계할 수 있어야 한다는 것을 배웠습니다

2. 무한스크롤

무비앱을 휴대폰 화면으로 계획하여 구현했고, 화면 전체가 아닌 부분적인 화면의 무한 스크롤 기능으로 페이지네이션을 구현했습니다.

처음에는 사용자의 스크롤에 의해 발생하는 좌표 이벤트(webAPI)를 통해 구현을 하려했는데, 스로틀링 등의 기능으로 보완이 가능하다하더라도 빈번한 액션으로 인한 까다로운 상태관리 및 복잡성 증가, 사용자의 컴퓨터 환경에 따라 스크롤의 위치 등을 고려하는 점으로 인해서 보다 적합한 ntersectObserve API를 통해 페이지네이션을 구현했습니다. 다음 페이지를 받아오는 동안 로딩화면을 보여주면서 사용성을 높였습니다.

3. 드래그 앤 드랍

라이브러리 사용이 코드의 복잡성을 더 올리고, 복잡한 css 효과는 필요 없다고 생각했기에 custom hook을 통해 직접 구현했고 최소한의 코드로 작성했습니다
